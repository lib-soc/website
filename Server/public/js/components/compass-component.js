import{S as t,i as n,a as e,b as i,s as o,e as s,n as r,d as a,c as l,o as m,f as c,t as u,g as p,h as d,j as g,l as h,m as f,q as b,p as v,r as q}from"./index-4348483d.js";import{w as x}from"./index-71440b21.js";import{loadLocaleContent as _}from"../../../../../../../../../js/libraries/serverTools.js";import{shuffleArray as y}from"../../../../../../../../../js/libraries/miscTools.js";function z(t,n,e){const i=t.slice();return i[18]=n[e],i[20]=e,i}function k(t){let n,e,s,r,l,m,b,v,q=t[5].heading+"",x=t[0],_=S(t);return{c(){n=c("div"),e=c("div"),s=c("h1"),r=u(q),l=p(),m=c("img"),v=p(),_.c(),d(m,"id","compass-img"),g(m.src,b="/img/common/compass.svg")||d(m,"src","/img/common/compass.svg"),d(m,"alt","compass"),d(e,"id","text-container"),d(n,"id","container")},m(t,o){i(t,n,o),h(n,e),h(e,s),h(s,r),h(e,l),h(e,m),h(e,v),_.m(e,null)},p(t,n){32&n&&q!==(q=t[5].heading+"")&&f(r,q),1&n&&o(x,x=t[0])?(_.d(1),_=S(t),_.c(),_.m(e,null)):_.p(t,n)},d(t){t&&a(n),_.d(t)}}}function w(t){let n,e,o,s,r,l,m,g,v,q,x,_,y,z,k,w,j,C,S,B,M,O,T,D;return{c(){n=c("p"),n.textContent="You are compatible with ...",e=p(),o=c("ul"),s=c("li"),r=u("capitalism by "),l=c("span"),m=u(t[2]),g=u("%"),v=p(),q=c("li"),x=u("vanguardism by "),_=c("span"),y=u(t[3]),z=u("%"),k=p(),w=c("li"),j=u("libertarian socialism by "),C=c("span"),S=u(t[4]),B=u("%"),M=p(),O=c("button"),O.textContent="back",d(o,"class","results-list"),d(O,"class","quiz-buttons")},m(a,c){i(a,n,c),i(a,e,c),i(a,o,c),h(o,s),h(s,r),h(s,l),h(l,m),h(s,g),h(o,v),h(o,q),h(q,x),h(q,_),h(_,y),h(q,z),h(o,k),h(o,w),h(w,j),h(w,C),h(C,S),h(w,B),i(a,M,c),i(a,O,c),T||(D=b(O,"click",t[15]),T=!0)},p(t,n){4&n&&f(m,t[2]),8&n&&f(y,t[3]),16&n&&f(S,t[4])},d(t){t&&a(n),t&&a(e),t&&a(o),t&&a(M),t&&a(O),T=!1,D()}}}function j(t){let n,e,o,s,r,l,m,g,x,_=t[5].qs[t[0]].q+"",y=t[5].qs[t[0]].as,k=[];for(let n=0;n<y.length;n+=1)k[n]=C(z(t,y,n));return{c(){n=c("p"),e=u(_),o=p(),s=c("div");for(let t=0;t<k.length;t+=1)k[t].c();r=p(),l=c("button"),l.textContent="back",m=c("button"),m.textContent="next",d(s,"class","quiz-inputs"),d(l,"class","quiz-buttons"),d(m,"class","quiz-buttons")},m(a,c){i(a,n,c),h(n,e),i(a,o,c),i(a,s,c);for(let t=0;t<k.length;t+=1)k[t].m(s,null);i(a,r,c),i(a,l,c),i(a,m,c),g||(x=[b(l,"click",t[13]),b(m,"click",t[14])],g=!0)},p(t,n){if(33&n&&_!==(_=t[5].qs[t[0]].q+"")&&f(e,_),35&n){let e;for(y=t[5].qs[t[0]].as,e=0;e<y.length;e+=1){const i=z(t,y,e);k[e]?k[e].p(i,n):(k[e]=C(i),k[e].c(),k[e].m(s,null))}for(;e<k.length;e+=1)k[e].d(1);k.length=y.length}},d(t){t&&a(n),t&&a(o),t&&a(s),v(k,t),t&&a(r),t&&a(l),t&&a(m),g=!1,q(x)}}}function C(t){let n,e,o,s,r,l,m,g,v,x=t[18][0]+"";function _(){return t[12](t[18])}return{c(){n=c("div"),e=c("input"),s=p(),r=c("button"),l=u(x),m=p(),d(e,"type","radio"),d(e,"id","option"+t[20]),d(e,"name","options"),e.__value=o=t[18][1],e.value=e.__value,t[11][0].push(e),d(r,"class","input-label"),d(r,"for","option"+t[20]),d(n,"class","radio-container")},m(o,a){i(o,n,a),h(n,e),e.checked=e.__value===t[1][t[0]],h(n,s),h(n,r),h(r,l),h(n,m),g||(v=[b(e,"change",t[10]),b(r,"click",_)],g=!0)},p(n,i){t=n,33&i&&o!==(o=t[18][1])&&(e.__value=o,e.value=e.__value),3&i&&(e.checked=e.__value===t[1][t[0]]),33&i&&x!==(x=t[18][0]+"")&&f(l,x)},d(i){i&&a(n),t[11][0].splice(t[11][0].indexOf(e),1),g=!1,q(v)}}}function S(t){let n;function e(t,n){return t[0]!=t[5].qs.length?j:w}let o=e(t),r=o(t);return{c(){r.c(),n=s()},m(t,e){r.m(t,e),i(t,n,e)},p(t,i){o===(o=e(t))&&r?r.p(t,i):(r.d(1),r=o(t),r&&(r.c(),r.m(n.parentNode,n)))},d(t){r.d(t),t&&a(n)}}}function B(t){let n,e=0!=Object.keys(t[5]).length,o=e&&k(t);return{c(){o&&o.c(),n=s(),this.c=r},m(t,e){o&&o.m(t,e),i(t,n,e)},p(t,[i]){32&i&&(e=0!=Object.keys(t[5]).length),e?o?o.p(t,i):(o=k(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:r,o:r,d(t){o&&o.d(t),t&&a(n)}}}function M(t,n,e){let i,o,s=x({});l(t,s,(t=>e(5,i=t))),_(s,"compass-component",o,(function(t){for(let n of t.qs)y(n.as)}));let r=0,a=[],c="",u="",p="";function d(t){null!=a[t]&&r<i.qs.length&&(r==i.qs.length-1&&(e(2,c=Math.round(100*a.map((t=>t.includes("C"))).filter(Boolean).length/a.length).toString()),e(3,u=Math.round(100*a.map((t=>t.includes("V"))).filter(Boolean).length/a.length).toString()),e(4,p=Math.round(100*a.map((t=>t.includes("LS"))).filter(Boolean).length/a.length).toString())),e(0,r+=1))}function g(t){0!=r&&e(0,r-=1)}m((()=>{}));return[r,a,c,u,p,i,o,s,d,g,function(){a[r]=this.__value,e(1,a)},[[]],t=>e(1,a[r]=t[1],a),()=>g(),()=>d(r),()=>g()]}class O extends t{constructor(t){super(),this.shadowRoot.innerHTML="<style>@import '/css/common.css';.results-list{margin-left:2rem;margin-bottom:2rem}.results-list li{margin-bottom:0.5rem}.radio-container{display:grid;grid-template-columns:min-content auto;margin-bottom:1rem}.quiz-inputs{position:relative;margin-bottom:2rem}.quiz-inputs input{position:relative;top:-0.1rem;height:1.2rem;width:1.2rem;margin:auto;accent-color:#DD1C1A;cursor:pointer}.quiz-inputs button{font-family:var(--serif,serif);font-size:1.15rem;margin-left:1rem;position:relative;top:-0.2rem;text-align:left}.quiz-buttons:nth-of-type(1){margin-right:2rem}.quiz-buttons{font-size:1.3rem;color:white;padding:1.5rem;padding-top:0.5rem;padding-bottom:0.5rem;background-color:#5B6970;border-radius:1rem}#compass-img{position:absolute;width:9rem;left:50%;transform:translate(-50%);z-index:0;opacity:0.2}#text-container>:nth-child(3){margin-top:8rem}#map{--height:30rem;--width:100%;--margin-bottom:3rem}#text-container{max-width:calc(100vw - 4rem);margin:auto}h1{margin-bottom:1rem;font-size:2.2rem;text-align:center}#container{margin:auto;max-width:800px;margin-top:1rem;margin-bottom:4rem}#container>div>p{margin-bottom:1rem}#container p{text-align:justify}</style>",n(this,{target:this.shadowRoot,props:e(this.attributes),customElement:!0},M,B,o,{},null),t&&t.target&&i(t.target,this,t.anchor)}}customElements.define("compass-component",O);export{O as default};
