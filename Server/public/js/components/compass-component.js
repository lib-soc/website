import{g as t,S as n,i as e,a as i,b as o,s,e as a,n as r,d as l,c as m,o as c,f as u,t as p,h as d,j as g,k as h,m as f,p as b,r as v,q,u as x}from"./index-3cab5f92.js";import{w as _}from"./index-eafa799e.js";import{loadLocaleContent as y}from"../../../../../../js/libraries/serverTools.js";import{shuffleArray as z}from"../../../../../../js/libraries/miscTools.js";const{customElements:k}=t;function w(t,n,e){const i=t.slice();return i[18]=n[e],i[20]=e,i}function j(t){let n,e,i,a,r,m,c,v,q=t[5].heading+"",x=t[0],_=M(t);return{c(){n=u("div"),e=u("div"),i=u("h1"),a=p(q),r=d(),m=u("img"),v=d(),_.c(),g(m,"id","compass-img"),h(m.src,c="/img/common/compass.svg")||g(m,"src","/img/common/compass.svg"),g(m,"alt","compass"),g(e,"id","text-container"),g(n,"id","container")},m(t,s){o(t,n,s),f(n,e),f(e,i),f(i,a),f(e,r),f(e,m),f(e,v),_.m(e,null)},p(t,n){32&n&&q!==(q=t[5].heading+"")&&b(a,q),1&n&&s(x,x=t[0])?(_.d(1),_=M(t),_.c(),_.m(e,null)):_.p(t,n)},d(t){t&&l(n),_.d(t)}}}function C(t){let n,e,i,s,a,r,m,c,h,q,x,_,y,z,k,w,j,C,S,B,M,O,T,D;return{c(){n=u("p"),n.textContent="You are compatible with ...",e=d(),i=u("ul"),s=u("li"),a=p("capitalism by "),r=u("span"),m=p(t[2]),c=p("%"),h=d(),q=u("li"),x=p("vanguardism by "),_=u("span"),y=p(t[3]),z=p("%"),k=d(),w=u("li"),j=p("libertarian socialism by "),C=u("span"),S=p(t[4]),B=p("%"),M=d(),O=u("button"),O.textContent="back",g(i,"class","results-list"),g(O,"class","quiz-buttons")},m(l,u){o(l,n,u),o(l,e,u),o(l,i,u),f(i,s),f(s,a),f(s,r),f(r,m),f(s,c),f(i,h),f(i,q),f(q,x),f(q,_),f(_,y),f(q,z),f(i,k),f(i,w),f(w,j),f(w,C),f(C,S),f(w,B),o(l,M,u),o(l,O,u),T||(D=v(O,"click",t[15]),T=!0)},p(t,n){4&n&&b(m,t[2]),8&n&&b(y,t[3]),16&n&&b(S,t[4])},d(t){t&&l(n),t&&l(e),t&&l(i),t&&l(M),t&&l(O),T=!1,D()}}}function S(t){let n,e,i,s,a,r,m,c,h,_=t[5].qs[t[0]].q+"",y=t[5].qs[t[0]].as,z=[];for(let n=0;n<y.length;n+=1)z[n]=B(w(t,y,n));return{c(){n=u("p"),e=p(_),i=d(),s=u("div");for(let t=0;t<z.length;t+=1)z[t].c();a=d(),r=u("button"),r.textContent="back",m=u("button"),m.textContent="next",g(s,"class","quiz-inputs"),g(r,"class","quiz-buttons"),g(m,"class","quiz-buttons")},m(l,u){o(l,n,u),f(n,e),o(l,i,u),o(l,s,u);for(let t=0;t<z.length;t+=1)z[t].m(s,null);o(l,a,u),o(l,r,u),o(l,m,u),c||(h=[v(r,"click",t[13]),v(m,"click",t[14])],c=!0)},p(t,n){if(33&n&&_!==(_=t[5].qs[t[0]].q+"")&&b(e,_),35&n){let e;for(y=t[5].qs[t[0]].as,e=0;e<y.length;e+=1){const i=w(t,y,e);z[e]?z[e].p(i,n):(z[e]=B(i),z[e].c(),z[e].m(s,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=y.length}},d(t){t&&l(n),t&&l(i),t&&l(s),q(z,t),t&&l(a),t&&l(r),t&&l(m),c=!1,x(h)}}}function B(t){let n,e,i,s,a,r,m,c,h,q=t[18][0]+"";function _(){return t[12](t[18])}return{c(){n=u("div"),e=u("input"),s=d(),a=u("button"),r=p(q),m=d(),g(e,"type","radio"),g(e,"id","option"+t[20]),g(e,"name","options"),e.__value=i=t[18][1],e.value=e.__value,t[11][0].push(e),g(a,"class","input-label"),g(a,"for","option"+t[20]),g(n,"class","radio-container")},m(i,l){o(i,n,l),f(n,e),e.checked=e.__value===t[1][t[0]],f(n,s),f(n,a),f(a,r),f(n,m),c||(h=[v(e,"change",t[10]),v(a,"click",_)],c=!0)},p(n,o){t=n,33&o&&i!==(i=t[18][1])&&(e.__value=i,e.value=e.__value),3&o&&(e.checked=e.__value===t[1][t[0]]),33&o&&q!==(q=t[18][0]+"")&&b(r,q)},d(i){i&&l(n),t[11][0].splice(t[11][0].indexOf(e),1),c=!1,x(h)}}}function M(t){let n;function e(t,n){return t[0]!=t[5].qs.length?S:C}let i=e(t),s=i(t);return{c(){s.c(),n=a()},m(t,e){s.m(t,e),o(t,n,e)},p(t,o){i===(i=e(t))&&s?s.p(t,o):(s.d(1),s=i(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){s.d(t),t&&l(n)}}}function O(t){let n,e=0!=Object.keys(t[5]).length,i=e&&j(t);return{c(){i&&i.c(),n=a(),this.c=r},m(t,e){i&&i.m(t,e),o(t,n,e)},p(t,[o]){32&o&&(e=0!=Object.keys(t[5]).length),e?i?i.p(t,o):(i=j(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:r,o:r,d(t){i&&i.d(t),t&&l(n)}}}function T(t,n,e){let i,o,s=_({});m(t,s,(t=>e(5,i=t))),y(s,"compass-component",o,(function(t){for(let n of t.qs)z(n.as)}));let a=0,r=[],l="",u="",p="";function d(t){null!=r[t]&&a<i.qs.length&&(a==i.qs.length-1&&(e(2,l=Math.round(100*r.map((t=>t.includes("C"))).filter(Boolean).length/r.length).toString()),e(3,u=Math.round(100*r.map((t=>t.includes("V"))).filter(Boolean).length/r.length).toString()),e(4,p=Math.round(100*r.map((t=>t.includes("LS"))).filter(Boolean).length/r.length).toString())),e(0,a+=1))}function g(t){0!=a&&e(0,a-=1)}c((()=>{}));return[a,r,l,u,p,i,o,s,d,g,function(){r[a]=this.__value,e(1,r)},[[]],t=>e(1,r[a]=t[1],r),()=>g(),()=>d(a),()=>g()]}class D extends n{constructor(t){super(),this.shadowRoot.innerHTML="<style>@import '/css/common.css';.results-list{margin-left:2rem;margin-bottom:2rem}.results-list li{margin-bottom:0.5rem}.radio-container{display:grid;grid-template-columns:min-content auto;margin-bottom:1rem}.quiz-inputs{position:relative;margin-bottom:2rem}.quiz-inputs input{position:relative;top:-0.1rem;height:1.2rem;width:1.2rem;margin:auto;accent-color:#DD1C1A;cursor:pointer}.quiz-inputs button{font-family:var(--serif,serif);font-size:1.15rem;margin-left:1rem;position:relative;top:-0.2rem;text-align:left}.quiz-buttons:nth-of-type(1){margin-right:2rem}.quiz-buttons{font-size:1.3rem;color:white;padding:1.5rem;padding-top:0.5rem;padding-bottom:0.5rem;background-color:#5B6970;border-radius:1rem}#compass-img{position:absolute;width:9rem;left:50%;transform:translate(-50%);z-index:0;opacity:0.2}#text-container>:nth-child(3){margin-top:8rem}#map{--height:30rem;--width:100%;--margin-bottom:3rem}#text-container{max-width:calc(100vw - 4rem);margin:auto}h1{margin-bottom:1rem;font-size:2.2rem;text-align:center}#container{margin:auto;max-width:800px;margin-top:1rem;margin-bottom:4rem}#container>div>p{margin-bottom:1rem}#container p{text-align:justify}</style>",e(this,{target:this.shadowRoot,props:i(this.attributes),customElement:!0},T,O,s,{},null),t&&t.target&&o(t.target,this,t.anchor)}}k.define("compass-component",D);export{D as default};
