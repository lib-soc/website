import{S as t,i as n,a as o,b as e,s as r,e as m,n as s,d as a,c,o as i,g as l,t as p,h as u,j as d,k as g,l as f,m as h,q as b,u as j}from"./index-8c09578c.js";import{w as x}from"./index-77787e10.js";import{loadLocaleContent as y,getData as v}from"../../../../../../../../../js/libraries/serverTools.js";import{addMarkersEntries as w,translate as k}from"../../../../../../../../../js/libraries/mapTools.js";import{addCommunePinContent as z}from"../../../../../../../../../js/mapFuncs.js";import"../../../../../../../../../js/components/map-component.js";function N(t,n,o){const e=t.slice();return e[12]=n[o][0],e[3]=n[o][1],e}function O(t,n,o){const e=t.slice();return e[15]=n[o],e}function T(t){let n,o,r,m,s,c,i,x,y,v,w,k,z,O,T,D,R,S,q,A,C=t[1].communes+"",F=t[1].p1+"",H=t[1].subheading1+"",J=t[1]["map-prompt"]+"",K=Object.entries(t[0]),L=[];for(let n=0;n<K.length;n+=1)L[n]=E(N(t,K,n));return{c(){n=l("div"),o=l("div"),r=l("h1"),m=p(C),s=u(),c=l("img"),x=u(),y=l("p"),v=p(F),w=u(),k=l("h3"),z=p(H),O=u(),T=l("map-component"),R=u(),S=l("p"),q=p(J),A=u();for(let t=0;t<L.length;t+=1)L[t].c();d(c,"id","communes-img"),g(c.src,i="/img/common/communes.svg")||d(c,"src","/img/common/communes.svg"),d(c,"alt","commune"),d(y,"class","description"),f(T,"id","map"),f(T,"callback",D=t[10]),d(S,"id","add-prompt"),d(o,"id","text-container"),d(n,"id","container")},m(t,a){e(t,n,a),h(n,o),h(o,r),h(r,m),h(o,s),h(o,c),h(o,x),h(o,y),h(y,v),h(o,w),h(o,k),h(k,z),h(o,O),h(o,T),h(o,R),h(o,S),h(S,q),h(o,A);for(let t=0;t<L.length;t+=1)L[t].m(o,null)},p(t,n){if(2&n&&C!==(C=t[1].communes+"")&&b(m,C),2&n&&F!==(F=t[1].p1+"")&&b(v,F),2&n&&H!==(H=t[1].subheading1+"")&&b(z,H),2&n&&D!==(D=t[10])&&f(T,"callback",D),2&n&&J!==(J=t[1]["map-prompt"]+"")&&b(q,J),771&n){let e;for(K=Object.entries(t[0]),e=0;e<K.length;e+=1){const r=N(t,K,e);L[e]?L[e].p(r,n):(L[e]=E(r),L[e].c(),L[e].m(o,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=K.length}},d(t){t&&a(n),j(L,t)}}}function D(t){let n,o,r,m,s,c,i,g,f,j,x,y,v,w,k,z,N,O,T,D,E,R,S,q,A,C,F=t[1].location+"",H=t[9](t[15])+"",J=t[1].status+"",K=t[1][t[15].status]+"",L=t[1].members+"",M=t[15].members+"",Q=t[1].contact+"",U=t[15].contact+"";return{c(){n=l("div"),o=l("p"),r=l("b"),m=p(F),s=p(": "),c=p(H),i=u(),g=l("p"),f=l("b"),j=p(J),x=p(": "),y=p(K),v=u(),w=l("p"),k=l("b"),z=p(L),N=p(": "),O=p(M),T=u(),D=l("p"),E=l("b"),R=p(Q),S=p(": "),q=l("a"),A=p(U),d(q,"href",C=t[15].contact),d(q,"target",";_blank;"),d(q,"rel","noreferrer"),d(n,"class","location-info")},m(t,a){e(t,n,a),h(n,o),h(o,r),h(r,m),h(r,s),h(o,c),h(n,i),h(n,g),h(g,f),h(f,j),h(f,x),h(g,y),h(n,v),h(n,w),h(w,k),h(k,z),h(k,N),h(w,O),h(n,T),h(n,D),h(D,E),h(E,R),h(E,S),h(D,q),h(q,A)},p(t,n){2&n&&F!==(F=t[1].location+"")&&b(m,F),1&n&&H!==(H=t[9](t[15])+"")&&b(c,H),2&n&&J!==(J=t[1].status+"")&&b(j,J),3&n&&K!==(K=t[1][t[15].status]+"")&&b(y,K),2&n&&L!==(L=t[1].members+"")&&b(z,L),1&n&&M!==(M=t[15].members+"")&&b(O,M),2&n&&Q!==(Q=t[1].contact+"")&&b(R,Q),1&n&&U!==(U=t[15].contact+"")&&b(A,U),1&n&&C!==(C=t[15].contact)&&d(q,"href",C)},d(t){t&&a(n)}}}function E(t){let n,o,r,m,s,c=t[8](t[12])+"",i=t[3],g=[];for(let n=0;n<i.length;n+=1)g[n]=D(O(t,i,n));return{c(){n=l("h4"),o=p(c),r=u(),m=l("div");for(let t=0;t<g.length;t+=1)g[t].c();s=u(),d(n,"class","country-name"),d(m,"class","country-block")},m(t,a){e(t,n,a),h(n,o),e(t,r,a),e(t,m,a);for(let t=0;t<g.length;t+=1)g[t].m(m,null);h(m,s)},p(t,n){if(1&n&&c!==(c=t[8](t[12])+"")&&b(o,c),515&n){let o;for(i=t[3],o=0;o<i.length;o+=1){const e=O(t,i,o);g[o]?g[o].p(e,n):(g[o]=D(e),g[o].c(),g[o].m(m,s))}for(;o<g.length;o+=1)g[o].d(1);g.length=i.length}},d(t){t&&a(n),t&&a(r),t&&a(m),j(g,t)}}}function R(t){let n,o=3==t[2]&&T(t);return{c(){o&&o.c(),n=m()},m(t,r){o&&o.m(t,r),e(t,n,r)},p(t,e){3==t[2]?o?o.p(t,e):(o=T(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(t){o&&o.d(t),t&&a(n)}}}function S(t){let n,o=t[2],c=R(t);return{c(){c.c(),n=m(),this.c=s},m(t,o){c.m(t,o),e(t,n,o)},p(t,[e]){4&e&&r(o,o=t[2])?(c.d(1),c=R(t),c.c(),c.m(n.parentNode,n)):c.p(t,e)},i:s,o:s,d(t){t&&a(n),c.d(t)}}}function q(t,n,o){let e,r,m=x(0);c(t,m,(t=>o(2,r=t)));let s,a,l=x({});c(t,l,(t=>o(1,e=t)));let p=y(l,"communes-component",m);y(l,"countries",m);function u(t,n,o){let e=t([22,0],2);w(s,a,e,n,o,z,"red")}v("/assets/communes.json",(t=>{o(3,s=JSON.parse(t)),o(0,a={});for(let t of s){let n=t.country;null==t.contact&&(t.contact="https://discord.gg/Qk8KUk787z"),n in a?a[n].push(t):o(0,a[n]=[t],a)}m.update((t=>t+1))})),i((()=>{}));return[a,e,r,s,m,l,p,u,function(t){return"en"==p?t:k(e,t)},function(t){return[t.country,t.state,t.town].filter((t=>null!=t)).map((t=>"en"==p?t:k(e,t))).join(", ")},t=>u(t,e,p)]}class A extends t{constructor(t){super(),this.shadowRoot.innerHTML="<style>@import '/css/common.css';.description{margin-bottom:1rem}#add-prompt{margin-bottom:2rem}#communes-img{position:absolute;width:11.5rem;left:50%;transform:translate(-50%);z-index:0;opacity:0.2}#text-container>:nth-child(3){margin-top:8rem}.country-name{margin-bottom:0.5rem}.country-block{margin-bottom:2rem}.location-info{position:relative;margin-bottom:2rem}.location-info p{margin-bottom:0}a{color:#DD1C1A}#map{--height:30rem;--width:100%;--margin-bottom:0,5rem}#text-container{max-width:calc(100vw - 4rem);margin:auto}h1{margin-bottom:1rem;font-size:2.2rem;text-align:center}h3{margin-top:1rem;margin-bottom:1rem}#container{margin:auto;max-width:800px;margin-top:1rem;margin-bottom:4rem}#container p{text-align:justify}</style>",n(this,{target:this.shadowRoot,props:o(this.attributes),customElement:!0},q,S,r,{},null),t&&t.target&&e(t.target,this,t.anchor)}}customElements.define("communes-component",A);export{A as default};
